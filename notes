pass in player instance with a timedelta

how to store the days on which players played games? through nba team?

# last 15 days stats
player = Player.objects.get(name='Kevin Durant')

stats = calculate_stats(player, 15)



def calculate_stats(player, num_days)

	now = datetime.now()
	today = now.day
	then = now - timedelta(days=num_days)
	that_day - then.day

	games = Game.objects.filter(Q(home_team=player.nba_team)| Q(away_team=player.nba_team) && Q(date__gte=then))

	games_played = 0
	for game in games:
		if game.boxscore.get(player):
			games_played += 1
			



def get_url_of_day(num_days_ago):
	now = datetime.now()
	month = now.month
	yesterday = now - timedelta(days=1)
	day = yesterday.day
	year = now.year
	url = """http://www.basketball-reference.com/friv/dailyleaders.cgi?month={0}&day={1}&year={2}""".format(month, day, year)
	return url

games = Game.objects.filter(Q(home_team=player.nba_team)| Q(away_team=player.nba_team))

http://www.basketball-reference.com/friv/dailyleaders.cgi?month=11&day=2&year=2014